#!/bin/sh

# Script ini akan dijalankan sebelum commit untuk memastikan kode bersih dari error

# Jalankan linting untuk memperbaiki masalah yang dapat diperbaiki otomatis
echo "🔍 Running lint:fix to clean up code..."
npm run lint:fix

# Jika ada perubahan setelah lint:fix, tambahkan ke staging
git diff --name-only --cached | grep -E '\.(js|jsx|ts|tsx)$' | xargs git add

# Pesan sukses
echo "✅ Pre-commit checks passed!"
exit 0
